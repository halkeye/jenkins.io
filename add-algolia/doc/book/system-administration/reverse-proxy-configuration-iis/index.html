<!DOCTYPE html>
<html lang="en">
<head>
<title>
Reverse proxy - IIS
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Reverse proxy - IIS" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Reverse proxy - IIS" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="https://halkeye.github.io/jenkins.io/add-algolia/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Reverse proxy - IIS" property="og:title">
<meta content="article" property="og:type">
<meta content="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/reverse-proxy-configuration-iis/index.html" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Reverse proxy - IIS" property="og:site_name">
<meta content="https://halkeye.github.io/jenkins.io/add-algolia/images/logo-title-opengraph.png" name="og:image">
<link href="https://halkeye.github.io/jenkins.io/add-algolia/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="https://halkeye.github.io/jenkins.io/add-algolia/assets/bower/tether/css/tether.min.css" media="screen" rel="stylesheet">
<link href="https://halkeye.github.io/jenkins.io/add-algolia/css/font-icons.css" media="screen" rel="stylesheet">
<link href="https://halkeye.github.io/jenkins.io/add-algolia/css/jenkins.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="https://halkeye.github.io/jenkins.io/add-algolia/assets/bower/ionicons/css/ionicons.min.css" media="screen" rel="stylesheet">
<link href="https://halkeye.github.io/jenkins.io/add-algolia/css/footer.css" media="screen" rel="stylesheet">
<link href="https://halkeye.github.io/jenkins.io/add-algolia/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" rel="stylesheet">
</head>
<body>
<script src="https://halkeye.github.io/jenkins.io/add-algolia/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<nav class="navbar navbar-expand-lg navbar-dark top bg-dark fixed-top" id="ji-toolbar">
<a class="navbar-brand" href="https://halkeye.github.io/jenkins.io/add-algolia">
Jenkins
</a>
<button class="navbar-toggler" data-target="#CollapsingNavbar" data-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="CollapsingNavbar">
<ul class="nav navbar-nav mr-auto">
<li class="nav-item dropdown">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
<!-- starting partial cdf_logo.html.haml -->
<svg width="36" height="18" xmlns="http://www.w3.org/2000/svg" role="img" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-3.23 44.77 362.70 271.95"><defs><linearGradient id="a" x1="359.765" x2="104.082" y1="134.295" y2="124.577" gradientTransform="matrix(1 0 0 -1 0 439.068)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#ed1c24"/><stop offset="1" stop-color="#f7941d"/></linearGradient><linearGradient id="b" x1="355.202" x2="99.519" y1="254.467" y2="244.749" xlink:href="#a"/><linearGradient id="c" x1="183.903" x2="10.612" y1="227.598" y2="221.023" xlink:href="#a"/><linearGradient id="d" x1="367.119" x2="157.995" y1="265.311" y2="257.091" xlink:href="#a"/></defs><path fill="#c49a6c" d="M231.52 309.278c2.483-.332 4.895-.77 7.255-1.329s4.649-1.206 6.991-1.957c13.494-4.58 25.187-12.952 36.374-24.593l-.14-.175c-14.944 15.486-30.693 25.344-50.48 28.054z"/><path fill="url(#a)" d="M224.232 309.96h.332c1.084 0 2.15-.14 3.216-.228a93.844 93.844 0 0 1-3.233.227z"/><path fill="url(#b)" d="M284.692 187.187l-.122.192.122-.192z"/><path fill="url(#c)" d="M146.145 231.847a150.844 150.844 0 0 1-12.97 15.862c-7.582 7.889-15.507 13.563-24.652 16.667a47.832 47.832 0 0 1-4.738 1.326 56.959 56.959 0 0 1-4.916.9 38.32 38.32 0 0 1-1.682.214l-.912.083c-.723.059-1.445.118-2.18.154h-3.068a42.325 42.325 0 0 1-9.192-1.043 49.977 49.977 0 0 1-6.764-2.002 43.097 43.097 0 0 1-4.525-1.954c-1.493-.77-2.961-1.516-4.407-2.37a59.5 59.5 0 0 1-17.105-15.399 59.714 59.714 0 0 1-2.914-4.311 53.09 53.09 0 0 1-1.291-2.263 51.985 51.985 0 0 1-2.263-4.738 46.72 46.72 0 0 1 0-36.426 51.986 51.986 0 0 1 2.263-4.738 54.14 54.14 0 0 1 1.291-2.263 59.742 59.742 0 0 1 2.914-4.311 59.714 59.714 0 0 1 17.105-15.4 60.828 60.828 0 0 1 4.407-2.369q2.217-1 4.525-1.777a49.976 49.976 0 0 1 6.906-2.073 42.325 42.325 0 0 1 9.192-1.042h3.128c.722 0 1.445.094 2.155.154l1.043.106 1.019.119c1.8.237 3.553.557 5.271.96.853.2 1.694.426 2.523.663a51.186 51.186 0 0 1 11.846 5.176 59.645 59.645 0 0 1 4.395 2.89 74.485 74.485 0 0 1 8.386 7.108q2.038 1.99 4.063 4.193l.083-.13a159.395 159.395 0 0 1 11.064 13.942c5.437-8.576 13.658-21.464 16.584-25.74 1.185-1.718 2.37-3.46 3.66-5.212-13.54-16.513-29.827-30.23-51.587-36.082h-.154a89.397 89.397 0 0 0-3.187-.794l-.45-.107a92.565 92.565 0 0 0-3.151-.627l-.628-.119a80.578 80.578 0 0 0-3.743-.569h-.142a58.29 58.29 0 0 0-2.073-.236h-.391l-1.872-.166h-.568l-1.754-.119h-.675l-1.777-.07h-3.115c-46.447-.25-87.125 40.476-87.125 86.911s40.725 87.173 87.172 87.173h3.14l1.729-.071h.734l1.67-.095h.676l1.706-.154h.568l1.813-.213.414-.06 1.967-.272h.213a125.91 125.91 0 0 0 3.553-.628l.652-.142c.96-.201 1.907-.415 2.855-.64l.58-.142a86.66 86.66 0 0 0 3.009-.817l.237-.071c20.73-6.077 36.425-19.392 49.55-35.277-2.037-3.068-3.4-5.366-4.039-6.48z"/><path fill="url(#d)" d="M318.05 51.733v94.66a85.514 85.514 0 0 0-52.595-18.729h-3.115l-1.777.072-.7.047-1.752.118h-.569l-1.871.166h-.391c-.7.071-1.386.142-2.073.237h-.154c-1.256.154-2.5.355-3.732.569l-.628.118c-1.066.19-2.108.403-3.15.628l-.45.107c-30.35 6.858-50.333 28.808-66.822 52.82-.7 1.018-1.35 2.049-2.038 3.068-2.25 3.423-5.46 8.422-8.635 13.397-4.17 6.527-8.292 13.03-9.939 15.66l20.624 32.137s21.997 40.465 61.68 51.482l.237.07c.995.297 2.002.558 3.009.818l.58.142c.936.237 1.896.439 2.855.64l.652.142c1.184.225 2.369.439 3.553.628h.214l1.966.273.415.059 1.812.213h.569l1.705.154h.676l1.67.095h.734l1.73.07h3.139c54.703 0 86.355-30.964 87.149-85.063V51.733zm-52.595 215.403h-3.068c-.734 0-1.457-.095-2.18-.154l-.912-.083c-.568-.06-1.125-.13-1.682-.213a49.077 49.077 0 0 1-9.571-2.275 49.612 49.612 0 0 1-6.634-2.83 55.792 55.792 0 0 1-6.254-3.768 63.068 63.068 0 0 1-3.009-2.215 82.399 82.399 0 0 1-8.683-7.925l-.095.119c-1.255-1.303-2.487-2.69-3.731-4.11-.154-.167-.296-.356-.45-.534-.628-.722-1.256-1.445-1.884-2.215s-1.125-1.398-1.682-2.097-.888-1.101-1.338-1.682a184.467 184.467 0 0 1-6.053-8.292c-.7-.995-1.398-2.025-2.109-3.056-.379-.569-.77-1.184-1.185-1.73-.675-1.018-1.362-2.013-2.049-3.056l-.355-.545c-1.185-1.812-2.37-3.684-3.649-5.603q2.95-4.608 5.817-8.86c1.907-2.831 3.79-5.556 5.662-8.138s3.72-5.046 5.591-7.38 3.72-4.525 5.603-6.586q2.026-2.203 4.063-4.194c1.374-1.338 2.748-2.594 4.158-3.778s2.807-2.287 4.252-3.329a57.594 57.594 0 0 1 7.748-4.62c.331-.166.663-.367 1.006-.533l.226-.118c1.41-.652 2.843-1.185 4.3-1.73l.485-.201c.273-.083.557-.142.83-.237a44.943 44.943 0 0 1 3.34-.948l1.374-.343a60.798 60.798 0 0 1 4.738-.841l1.019-.119 1.042-.106c.711 0 1.434-.119 2.156-.154h3.128a42.431 42.431 0 0 1 4.572.26 48.011 48.011 0 0 1 6.93 1.35c1.54.427 3.08.925 4.596 1.505a48.724 48.724 0 0 1 4.525 1.955c1.493.722 2.961 1.516 4.407 2.369s2.866 1.8 4.24 2.784 2.725 2.049 4.028 3.174a58.459 58.459 0 0 1 8.837 9.477 59.73 59.73 0 0 1 2.914 4.312 51.067 51.067 0 0 1 5.318 11.916 47.38 47.38 0 0 1 1.185 5.165 45.567 45.567 0 0 1 .71 8.09c.072 35.964-16.062 52.122-52.227 52.122z"/></svg>

<!-- ending partial cdf_logo.html.haml -->
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://cd.foundation/">
What is CDF?
</a>
<a class="dropdown-item feature" href="https://jenkins-x.io/">
Jenkins X
</a>
<a class="dropdown-item feature" href="https://cloud.google.com/tekton/">
Tekton
</a>
<a class="dropdown-item feature" href="https://www.spinnaker.io/">
Spinnaker
</a>
</div>
</li>
</ul>
<ul class="nav navbar-nav ml-auto">
<li class="nav-item">
<a class="nav-link" href="https://halkeye.github.io/jenkins.io/add-algolia/node">
Blog
</a>
</li>
<li class="nav-item dropdown">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
Documentation
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book">
<strong>
User Guide
</strong>
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/installing/">
&nbsp;-&nbsp;Installing Jenkins
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/pipeline">
&nbsp;-&nbsp;Jenkins Pipeline
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/managing/">
&nbsp;-&nbsp;Managing Jenkins
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration">
&nbsp;-&nbsp;System Administration
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/glossary/">
&nbsp;-&nbsp;Terms and Definitions
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/solutions">
<strong>
Solution Pages
</strong>
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/doc/tutorials/">
<strong>
Tutorials
</strong>
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/doc/pipeline/tour/getting-started/">
&nbsp;-&nbsp;Guided Tour
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/doc/tutorials/">
&nbsp;-&nbsp;More Tutorials
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/doc/developer">
<strong>
Developer Guide
</strong>
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/participate">
<strong>
Contributor Guide
</strong>
</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link" href="https://plugins.jenkins.io/">
Plugins
</a>
</li>
<li class="nav-item dropdown">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
Community
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/participate">
Overview
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/chat" title="Chat with the rest of the Jenkins community on IRC">
Chat
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/projects/jam">
Meet
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/events">
Events
</a>
<a class="dropdown-item feature" href="https://issues.jenkins.io/">
Issue Tracker
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/mailing-lists" title="Browse Jenkins mailing list archives and/or subscribe to lists">
Mailing Lists
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/project/roadmap">
Roadmap
</a>
<a class="dropdown-item feature" href="https://accounts.jenkins.io/" title="Create/manage your account for accessing wiki, issue tracker, etc">
Account Management
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/sigs/">
<strong>
Special Interest Groups
</strong>
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/sigs/advocacy-and-outreach/">
&nbsp;-&nbsp;Advocacy and Outreach
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/sigs/chinese-localization/">
&nbsp;-&nbsp;Chinese Localization
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/sigs/cloud-native/">
&nbsp;-&nbsp;Cloud Native
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/sigs/docs/">
&nbsp;-&nbsp;Documentation
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/sigs/gsoc/">
&nbsp;-&nbsp;Google Summer of Code
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/sigs/hw-and-eda/">
&nbsp;-&nbsp;Hardware and EDA
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/sigs/pipeline-authoring/">
&nbsp;-&nbsp;Pipeline Authoring
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/sigs/platform/">
&nbsp;-&nbsp;Platform
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/sigs/ux/">
&nbsp;-&nbsp;User Experience
</a>
</div>
</li>
<li class="dropdown nav-item">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
Subprojects
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/projects/">
Overview
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/projects/evergreen/">
Evergreen
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/projects/gsoc/">
Google Summer of Code in Jenkins
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/projects/infrastructure/">
Infrastructure
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/projects/jam/">
CI/CD and Jenkins Area Meetups
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/projects/jcasc/">
Jenkins Configuration as Code
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/projects/remoting/">
Jenkins Remoting
</a>
<a class="dropdown-item feature" href="https://halkeye.github.io/jenkins.io/add-algolia/sigs/docs/gsod/2020/projects/document-jenkins-on-kubernetes/">
Document Jenkins on Kubernetes
</a>
</div>
</li>
<li class="nav-item dropdown">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
About
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/project/roadmap">
Roadmap
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/security">
Security
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/press">
Press
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/awards">
Awards
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/project/conduct">
Conduct
</a>
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/artwork">
Artwork
</a>
</div>
</li>
<li class="nav-item dropdown">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
English
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item" href="https://halkeye.github.io/jenkins.io/add-algolia/zh">
中文 Chinese
</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link btn btn-outline-secondary" href="https://halkeye.github.io/jenkins.io/add-algolia/download">
Download
</a>
</li>
<li class="nav-item searchbox">
<input aria-label="Search" class="form-control searchbox" placeholder="Search" type="search">
</li>
</ul>
</div>
</nav>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-lg-9 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body">
<div class="col-lg-3">
<div class="sidebar-nav tour">
<p>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc" class="">> User Documentation Home</a>
</p>
<h5>
User Handbook
</h5>
<ul>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/getting-started" class="">User Handbook overview</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/installing" class="">Installing Jenkins</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/using" class="">Using Jenkins</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/pipeline" class="">Pipeline</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/blueocean" class="">Blue Ocean</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/managing" class="">Managing Jenkins</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration" class="active">System Administration</a>
<small>
<ul style="padding-left: 1rem;">
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/backing-up" class="">Backing-up/Restoring Jenkins</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/monitoring" class="">Monitoring Jenkins</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/security" class="">Securing Jenkins</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/administering-jenkins-on-kubernetes" class="">Administering Jenkins on Kubernetes</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/with-chef" class="">Managing Jenkins with Chef</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/with-puppet" class="">Managing Jenkins with Puppet</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/viewing-logs" class="">Viewing logs</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/authenticating-scripted-clients" class="">Authenticating scripted clients</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/reverse-proxy-configuration-with-jenkins" class="">Reverse proxy configuration</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/reverse-proxy-configuration-apache" class="">Reverse proxy - Apache</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/reverse-proxy-configuration-nginx" class="">Reverse proxy - Nginx</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/reverse-proxy-configuration-haproxy" class="">Reverse proxy - HAProxy</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/reverse-proxy-configuration-squid" class="">Reverse proxy - Squid</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/reverse-proxy-configuration-iis" class="active">Reverse proxy - IIS</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/reverse-proxy-configuration-iptables" class="">Reverse proxy - iptables</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/reverse-proxy-configuration-troubleshooting" class="">Reverse proxy - Issues</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/diagnosing-errors" class="">Diagnosing Errors</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/system-administration/obtaining-a-thread-dump" class="">Obtaining a thread dump</a>
</li>
</ul>
</small>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/scaling" class="">Scaling Jenkins</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/appendix" class="">Appendix</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/glossary" class="">Glossary</a>
</li>
</ul>
<h5>
Tutorials
</h5>
<ul>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/pipeline/tour/getting-started" class="">Guided Tour</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/tutorials#pipeline" class="">Jenkins Pipeline</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/tutorials#tools" class="">Using Build Tools</a>
</li>
</ul>
<h5>
Resources
</h5>
<ul>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/book/pipeline/syntax" class="">Pipeline Syntax reference</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/pipeline/steps" class="">Pipeline Steps reference</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc/upgrade-guide" class="">LTS Upgrade guides</a>
</li>
</ul>
</div>
</div>
<div class="col-lg-9">
<div class="container">
<div class="row">
<div class="col-md-4">
<div class="row">
<a class="prev doc-page-link" href="../reverse-proxy-configuration-squid">
⇐ Reverse proxy - Squid
</a>
</div>
</div>
<div class="col-md-4">
<div class="row">
<a class="up doc-page-link" href="../">
⇑ System Administration
</a>
</div>
<div class="row">
<a class="index doc-page-link" href="../../">
Index
</a>
</div>
</div>
<div class="col-md-4">
<div class="row">
<a class="next doc-page-link" href="../reverse-proxy-configuration-iptables">
Reverse proxy - iptables ⇒
</a>
</div>
</div>
</div>
</div>
<div class="container">
<div class="row body">
<div class="section">
<h1>
Reverse proxy - IIS
</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#requirements">Requirements</a></li>
<li><a href="#example-use-case">Example use case</a></li>
<li><a href="#configuration-time">Configuration Time</a>
<ul class="sectlevel2">
<li><a href="#enabling-reverse-proxy-functionality">Enabling Reverse Proxy functionality</a></li>
<li><a href="#configuring-tlsssl">Configuring TLS/SSL</a></li>
<li><a href="#configuring-rules-for-response-rewriting">Configuring rules for response rewriting</a></li>
<li><a href="#experiencing-the-dreaded-it-appears-that-your-reverse-proxy-set-up-is-broken-error-for-yourself">Experiencing the dreaded "It appears that your reverse proxy set up is broken." error for yourself</a></li>
<li><a href="#fixing-the-errors">Fixing the errors</a></li>
<li><a href="#continue-configuring-iis">Continue configuring IIS</a></li>
<li><a href="#a-working-web-config">A working web.config</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In situations where you have existing web sites on your server, you may
find it useful to run Jenkins (or the servlet container that Jenkins
runs in) behind <a href="http://nginx.org/">Nginx</a>, so that you can bind Jenkins
to the part of a bigger website that you may have.
This section discusses some of the approaches for doing this.</p>
</div>
<div class="paragraph">
<p><strong>Make sure that you change the Jenkins httpListenAddress from its
default of 0.0.0.0 to 127.0.0.1 or configure the firewall to block
request on the port Jenkins is bound to, otherwise any IIS-level
restrictions can be easily bypassed by accessing the Jenkins port
directly.</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="requirements"><a class="anchor" href="#requirements"></a>Requirements</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>IIS 7.0 or greater.</p>
<div class="ulist">
<ul>
<li>
<p>IIS 8.5 or greater if you want
<a href="https://docs.microsoft.com/en-us/iis/get-started/whats-new-in-iis-85/certificate-rebind-in-iis85">Certificate
Rebind</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://www.iis.net/downloads/microsoft/url-rewrite">URL Rewrite 2.1</a>
or greater.</p>
<div class="ulist">
<ul>
<li>
<p>As the <a href="https://blogs.iis.net/iisteam/url-rewrite-v2-1">announcement</a>
explains, it introduces a feature flag to turn off the default
non-compliant-RFC3986 behavior. Which is what we want.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://www.iis.net/downloads/microsoft/application-request-routing">Application
Request Routing</a>  3.0 or greater.</p>
</li>
<li>
<p>Server access</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="example-use-case"><a class="anchor" href="#example-use-case"></a>Example use case</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I have a dedicated Jenkins installation on a Windows Server 2012 R2
server with a Common Name of <strong>VRTJENKINS01</strong> in the Active Directory
domain <strong>acme.example</strong> and is reachable by the Fully Qualified Domain
Name <strong>vrtjenkins01.acme.example</strong>.
Additionally Jenkins runs on port <strong>8080</strong> and already listens to <strong>127.0.0.1</strong>
instead of 0.0.0.0 and the server has additional DNS names: <strong>jenkins</strong> and
<strong>jenkins.acme.example</strong>.</p>
</div>
<div class="paragraph">
<p>I want to have an IIS installation which acts as a TLS/SSL terminating
reverse proxy.
In combination with our in-house Active Directory Certificate Services
(ADCS, Microsoft&#8217;s Certificate Authority software) this should make
certificate management a lot easier since Windows can be configured to
automatically renew certificates, and the IIS 8.5+ Certificate Rebind
feature can listen to renewal events (which contain the fingerprints of
both the old and new certificate) and update the relevant bind(s) to use
the fresh certificate.
This would ensure that after the initial manual request it would only be
necessary to manually change TLS/SSL related settings when the set of
Alternate Subject Names on the certificate IIS presents should change.</p>
</div>
<div class="paragraph">
<p>IIS will only have to act as 1) a reverse proxy for Jenkins 2) redirect
non-canonical URLs to the canonical URL: <em>https://jenkins.acme.example/</em></p>
</div>
<div class="paragraph">
<p>I have installed the IIS (8.5) role using the <em>Add Roles and Features
Wizard</em> with the all the default and also the following non-default
features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HTTP Redirection (Under <em>Common HTTP Features</em>, to
redirect \http(s)://jenkins/, etc. to
<a href="https://jenkins.acme.example/" class="bare">https://jenkins.acme.example/</a>)</p>
</li>
<li>
<p>WebSocket Protocol (Under <em>Application Development</em>, because I felt
like it)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then I installed URL Rewrite and Application Request Routing.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-time"><a class="anchor" href="#configuration-time"></a>Configuration Time</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="enabling-reverse-proxy-functionality"><a class="anchor" href="#enabling-reverse-proxy-functionality"></a>Enabling Reverse Proxy functionality</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the <em>Internet Information Services (IIS) Manager</em> click on the
VRTJENKINS01 server.</p>
</li>
<li>
<p>Go to <em>Application Request Routing Cache</em>.</p>
</li>
<li>
<p>In the <em>Actions</em> panel click on <em>Server Proxy Settings&#8230;&#8203;</em></p>
</li>
<li>
<p>Enable the proxy</p>
</li>
<li>
<p>Disable the <em>Reverse rewrite host in response header</em></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Don&#8217;t worry, it will work, just follow the rest of the instructions</p>
</li>
</ol>
</div>
</li>
<li>
<p>Set the <em>Response buffer threshold (KB)</em> to 0.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>This helps to prevent HTTP 502 errors on Jenkin&#8217;s Replay pages.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Apply (the <em>Actions</em> panel again)</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configuring-tlsssl"><a class="anchor" href="#configuring-tlsssl"></a>Configuring TLS/SSL</h3>
<div class="paragraph">
<p>Out of scope, there are enough tutorials on the rest of the interwebs
for this part.
The rest of this tutorial will assume it has been configured with a
certificate trusted by your browser of choice.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-rules-for-response-rewriting"><a class="anchor" href="#configuring-rules-for-response-rewriting"></a>Configuring rules for response rewriting</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to the <em>Default Web Site</em></p>
</li>
<li>
<p>Go to <em>URL Rewrite</em></p>
</li>
<li>
<p>In the <em>Actions</em> panel click <em>View Server Variables&#8230;&#8203;</em></p>
</li>
<li>
<p>Add the following is not already define on the server level:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Name: <strong>HTTP_FORWARDED</strong></p>
</li>
</ol>
</div>
</li>
<li>
<p>Click on <em>Back to Rules</em></p>
</li>
<li>
<p><em>Click on Add Rule(s)&#8230;&#8203;</em></p>
</li>
<li>
<p>Select <em>Reverse Proxy</em> and click on OK</p>
</li>
<li>
<p>Enter <em>jenkins.acme.example</em> and click on OK</p>
</li>
<li>
<p>Open the rule you just created</p>
</li>
<li>
<p>Under <em>Conditions</em> add:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Condition input: <strong>{CACHE_URL}</strong></p>
</li>
<li>
<p>Pattern: <strong>^(http|ws)s://</strong></p>
</li>
</ol>
</div>
</li>
<li>
<p>Under <em>Server Variables</em> add:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Name: <strong>HTTP_FORWARDED</strong>, Value:
<strong>for={REMOTE_ADDR};by={LOCAL_ADDR};host="{HTTP_HOST}";proto="https"</strong>,
Replace: yes</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Jenkins runs under Jetty, Jetty supports
<a href="https://tools.ietf.org/html/rfc7239">RFC7239</a>, so all should be well.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Under Action change:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Rewrite URL to
<strong>\{C:1}\://jenkins.acme.example:8080{UNENCODED_URL}</strong></p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Note that there is no slash between the port number and the opening
curly bracket</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Remove</strong> the check from the <strong>Append query string</strong> checkbox</p>
</li>
</ol>
</div>
</li>
<li>
<p>Apply the changes.</p>
</li>
<li>
<p>Edit <em>C:\Windows\System32\drivers\etc\hosts</em> so that
<strong>jenkins.acme.example</strong> points to 127.0.0.1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>When resolving names Windows will check if the name is its own name
before consulting the hosts file. Meaning that adding <em>vrtjenkins01</em> or
<em>vrtjenkins01.acme.example</em> to the hosts file won&#8217;t have any effect.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>The hosts file will however be consulted before consulting the DNS
infrastructure</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="experiencing-the-dreaded-it-appears-that-your-reverse-proxy-set-up-is-broken-error-for-yourself"><a class="anchor" href="#experiencing-the-dreaded-it-appears-that-your-reverse-proxy-set-up-is-broken-error-for-yourself"></a>Experiencing the dreaded "It appears that your reverse proxy set up is broken." error for yourself</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>https://jenkins.acme.example/configure</p>
</li>
<li>
<p>Configure the <em>Jenkins URL</em> to
be <strong>https://jenkins.acme.example/</strong>
and save the change</p>
</li>
<li>
<p>Go to <em>Configure Global Security</em> and enable
<em>Enable proxy compatibility</em> if you have already enabled <em>Prevent Cross
Site Request Forgery exploits</em></p>
</li>
<li>
<p>Go to https://jenkins.acme.example/manage</p>
</li>
<li>
<p>You will still experience the "It appears that your reverse
proxy set up is broken." as expected</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If you do not get that at this point, then that is very weird&#8230;&#8203;
Continue anyway.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Right click the <em>Configure System</em> link and choose to
inspect the element.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Make sure you are still on the Manage page as you will want
it as your referrer</p>
</li>
</ol>
</div>
</li>
<li>
<p>Change the value of the <em>href</em> attribute to be
<em>administrativeMonitor/hudson.diagnosis.ReverseProxySetupMonitor/test</em></p>
</li>
<li>
<p>Open the link you just changed in a new tab.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Keep this tab open</p>
</li>
</ol>
</div>
</li>
<li>
<p>Observe the "\https://jenkins.acme.example/manage
vs http:" error and bask in its glory</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>a white page served with HTTP status code is 200 indicates
all is well</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>If you do get that at this point, then that is very
weird&#8230;&#8203; Continue anyway.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="fixing-the-errors"><a class="anchor" href="#fixing-the-errors"></a>Fixing the errors</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In IIS Manager got to <em>Application Pools</em> then edit
<em>DefaultAppPool</em> so that the <em>.NET CLR version</em> is <strong>No Managed Code</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>You might find that this is not necessary (at far as you
can tell) for your setup, since IIS will only act as a TLS/SSL
offloading reverse proxy, we don&#8217;t need it.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Then go to <em>Sites</em> → <em>Default Web Site</em> → <em>Request
Filtering</em> and in the <em>Actions</em> panel choose <em>Edit Feature Settings&#8230;&#8203;</em>
and turn on <strong>Allow doube escaping</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>This is so IIS forwards URLs like
https://jenkins.acme.example/%2525 to Jenkins instead of
showing an IIS error page</p>
</li>
</ol>
</div>
</li>
<li>
<p>Last, but not least, go to <em>Sites</em> → <em>Default Web
Site</em> → <em>Configuration Editor</em> and change the <em>Section</em> to
<em>system.webServer/rewrite/rules</em></p>
</li>
<li>
<p>Now you should see the URL Rewrite 2.1 property
<em>useOriginalURLEncoding</em> listed, if not install URL Rewrite 2.1 using
the x86 or x64 installer, not the WebPI one and resume from here after a
reboot.</p>
</li>
<li>
<p>Change <em>useOriginalURLEncoding</em> to <strong>False</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>As the URL Rewrite 2.1 announcement this will change the
value of {UNENCODED_URL} to make it <em>RFC3986</em> and usable for reverse
proxy forwarding purposes</p>
</li>
<li>
<p>original as in pre 2.1 behaviour.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Refresh that tab you were supposed to keep open, or recreate
it.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Again, take some time to bask in its glory</p>
</li>
</ol>
</div>
</li>
<li>
<p>It should now be white, also the Manage page should no
longer complain!</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="continue-configuring-iis"><a class="anchor" href="#continue-configuring-iis"></a>Continue configuring IIS</h3>
<div class="paragraph">
<p>Some of the things you might want but I won&#8217;t cover:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Hypertext Strict Transport Security</em> headers</p>
</li>
<li>
<p>Redirecting from non canonical URLs to the canonical URL
(ok, sort of covered this in the web.config example)</p>
</li>
<li>
<p>The X-UA-Compatibility header so that Internet Explorer 11
(or 9, or &#8230;&#8203;) won&#8217;t claim to be IE 7 for intranet sites</p>
</li>
<li>
<p>Use IIS Crypto to configure cipher suites</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="a-working-web-config"><a class="anchor" href="#a-working-web-config"></a>A working web.config</h3>
<div class="paragraph">
<p><strong>web.config</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="xml"><span style="color:#579">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span style="color:#070;font-weight:bold">&lt;configuration&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;system.webServer&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;rewrite&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;rules</span> <span style="color:#b48">useOriginalURLEncoding</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">false</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;rule</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">CanonicalHostNameRule2</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">stopProcessing</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">true</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
          <span style="color:#070;font-weight:bold">&lt;match</span> <span style="color:#b48">url</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">(.*)</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
          <span style="color:#070;font-weight:bold">&lt;conditions</span> <span style="color:#b48">trackAllCaptures</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">true</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;add</span> <span style="color:#b48">input</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">{CACHE_URL}</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">pattern</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">^(http|ws)://</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;add</span> <span style="color:#b48">input</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">{HTTP_HOST}</span><span style="color:#710">&quot;</span></span>
                 <span style="color:#b48">pattern</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">^jenkins$|^jenkins\.acme\.example$|</span>
                          <span style="color:#D20">^vrtjenkins01$|^vrtjenkins01\.acme\.example$</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
          <span style="color:#070;font-weight:bold">&lt;/conditions&gt;</span>
          <span style="color:#070;font-weight:bold">&lt;action</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Redirect</span><span style="color:#710">&quot;</span></span>
                  <span style="color:#b48">url</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">{C:1}s://jenkins.acme.example{UNENCODED_URL}</span><span style="color:#710">&quot;</span></span>
                  <span style="color:#b48">appendQueryString</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">false</span><span style="color:#710">&quot;</span></span>
                  <span style="color:#b48">redirectType</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Permanent</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/rule&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;rule</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">CanonicalHostNameRule1</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">stopProcessing</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">true</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
          <span style="color:#070;font-weight:bold">&lt;match</span> <span style="color:#b48">url</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">(.*)</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
          <span style="color:#070;font-weight:bold">&lt;conditions</span> <span style="color:#b48">trackAllCaptures</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">true</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;add</span> <span style="color:#b48">input</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">{CACHE_URL}</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">pattern</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">^(https|wss)://</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;add</span> <span style="color:#b48">input</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">{HTTP_HOST}</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">pattern</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">^jenkins$|^vrtjenkins01$|</span>
                                              <span style="color:#D20">^vrtjenkins01\.acme\.example$</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
          <span style="color:#070;font-weight:bold">&lt;/conditions&gt;</span>
          <span style="color:#070;font-weight:bold">&lt;action</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Redirect</span><span style="color:#710">&quot;</span></span>
                  <span style="color:#b48">url</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">{C:1}://jenkins.acme.example{UNENCODED_URL}</span><span style="color:#710">&quot;</span></span>
                  <span style="color:#b48">appendQueryString</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">false</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">redirectType</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Permanent</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/rule&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;rule</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ReverseProxyInboundRule1</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">stopProcessing</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">true</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
          <span style="color:#070;font-weight:bold">&lt;match</span> <span style="color:#b48">url</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">(.*)</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
          <span style="color:#070;font-weight:bold">&lt;action</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Rewrite</span><span style="color:#710">&quot;</span></span>
                  <span style="color:#b48">url</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">{C:1}://jenkins.acme.example:8080{UNENCODED_URL}</span><span style="color:#710">&quot;</span></span>
                  <span style="color:#b48">appendQueryString</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">false</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
          <span style="color:#070;font-weight:bold">&lt;serverVariables&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;set</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">HTTP_FORWARDED</span><span style="color:#710">&quot;</span></span>
                 <span style="color:#b48">value</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">for={REMOTE_ADDR};</span>
                        <span style="color:#D20">by={LOCAL_ADDR};</span>
                        <span style="color:#D20">host=</span><span style="color:#800;font-weight:bold">&amp;quot;</span><span style="color:#D20">{HTTP_HOST}</span><span style="color:#800;font-weight:bold">&amp;quot;</span><span style="color:#D20">;</span>
                        <span style="color:#D20">proto=</span><span style="color:#800;font-weight:bold">&amp;quot;</span><span style="color:#D20">https</span><span style="color:#800;font-weight:bold">&amp;quot;</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
          <span style="color:#070;font-weight:bold">&lt;/serverVariables&gt;</span>
          <span style="color:#070;font-weight:bold">&lt;conditions</span> <span style="color:#b48">trackAllCaptures</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">true</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;add</span> <span style="color:#b48">input</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">{CACHE_URL}</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">pattern</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">^(http|ws)s://</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;add</span> <span style="color:#b48">input</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">{HTTP_HOST}</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">pattern</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">^jenkins\.acme\.example$</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
          <span style="color:#070;font-weight:bold">&lt;/conditions&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/rule&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;/rules&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/rewrite&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;security&gt;</span>
      <span style="color:#070;font-weight:bold">&lt;requestFiltering</span> <span style="color:#b48">allowDoubleEscaping</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">true</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/security&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;/system.webServer&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/configuration&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<hr>
<div class="container">
<div class="row">
<div class="col-md-4">
<div class="row">
<a class="prev doc-page-link" href="../reverse-proxy-configuration-squid">
⇐ Reverse proxy - Squid
</a>
</div>
</div>
<div class="col-md-4">
<div class="row">
<a class="up doc-page-link" href="../">
⇑ System Administration
</a>
</div>
<div class="row">
<a class="index doc-page-link" href="../../">
Index
</a>
</div>
</div>
<div class="col-md-4">
<div class="row">
<a class="next doc-page-link" href="../reverse-proxy-configuration-iptables">
Reverse proxy - iptables ⇒
</a>
</div>
</div>
</div>
</div>
<hr>
<div class="container"></div>
<!-- starting partial _feedback-footer.html -->
<!-- HTML inclusion for chapter and section layouts (i.e. as footers) as well as
     for use in AsciiDoc file inclusions. -->

<!--
This feedback form was prepared from a Google Form, based on the techniques in
the following documentation sources:
https://codepen.io/learningcode/post/customize-a-google-form-for-your-website,
https://mrhaki.blogspot.com.au/2014/06/awesome-asciidoc-include-raw-html.html,
https://www.freshtechtips.com/2013/05/custom-google-drive-contact-form.html,
https://stackoverflow.com/questions/24436165/set-value-of-hidden-input-inside-form
-->

<!-- Feedback form functionality in JavaScript - refer to comments in this file
     for details on the functionality. -->
<script>
var feedbackForm = {
    formKey : 'e/1FAIpQLSfCEexH09x_-ytEyE7wetizqOvE_-06WkK89dpBLEJcYnOp8w'
};
$(document).ready(function() {
    window.onload = feedbackForm.start(window.location.href);
});
</script>
<script src="/js/feedback-form-functionality.js"></script>

<p><a href="#feedback" data-toggle="collapse">Was this page helpful?</a></p>

<div id="feedback" class="collapse">

<p>Please submit your feedback about this page through this
<a href="/doc/feedback-form/">quick form</a>.</p>

<p>Alternatively, if you don't wish to complete the quick form, you can simply
indicate if you found this page helpful?</p>

<!-- Redirects to custom "thank you" page once form is submitted. -->
<script type="text/javascript">
var submitted=false;
</script>
<iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"
onload="if(submitted) {window.location='/doc/thank-you-for-your-feedback/';}">
</iframe>
<form action="https://docs.google.com/forms/d/e/1FAIpQLSfCEexH09x_-ytEyE7wetizqOvE_-06WkK89dpBLEJcYnOp8w/formResponse" method="POST" id="ss-form" target="hidden_iframe" onsubmit="submitted=true;">

<!-- Set the value of the current URL into the form. -->
<input type="hidden" name="entry.1246830226" id="current-url" value=""/>

<!-- The answer bit -->
<p><input type="radio" name="entry.790002525" id="h1" value="Yes" required/>
<label for="h1">Yes</label>&nbsp;&nbsp;&nbsp;&nbsp;
<input type="radio" name="entry.790002525" id="h2" value="No"/>
<label for="h2">No</label></p>

<!-- The CAPTCHA bit -->

<p><label id="ssTestLabel" for="ssTestValue"></label><br/>
<input type="text" name="ssTestValue" value="" id="ssTestValue"/></p>

<!-- Submit button -->

<p><input class="button" type="submit" value="Submit"/></p>

</form>

<p>See existing feedback <a href="https://docs.google.com/spreadsheets/d/1IIdpVs39JDYKg0sLQIv-MNO928qcGApAIfdW5ohfD78" target="_blank" rel="noreferrer noopener">here</a>.</p>

</div>

<!-- ending partial _feedback-footer.html -->

</div>
</div>
</div>


<script src="https://halkeye.github.io/jenkins.io/add-algolia/assets/bower/anchor-js/anchor.min.js"></script>
<script src="https://halkeye.github.io/jenkins.io/add-algolia/assets/bower/tether/js/tether.min.js"></script>
<script src="https://halkeye.github.io/jenkins.io/add-algolia/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<footer id="footer">
<div class="container">
<div class="row">
<div class="col-md-4">
<p class="box">
<a href="https://github.com/jenkins-infra/jenkins.io/edit/master/content//doc/book/system-administration/reverse-proxy-configuration-iis.adoc" title="Edit /doc/book/system-administration/reverse-proxy-configuration-iis.adoc on GitHub">Improve this page</a>
|
<a href="https://github.com/jenkins-infra/jenkins.io/issues/new?labels=bug&amp;template=4-bug.md&amp;title=Reverse proxy - IIS page - TODO: Put a summary here&amp;body=Problem with the [Reverse proxy - IIS](https://www.jenkins.io/doc/book/system-administration/reverse-proxy-configuration-iis/) page, [source file](https://github.com/jenkins-infra/jenkins.io/blob/master/content/doc/book/system-administration/reverse-proxy-configuration-iis.adoc)%0A%0ATODO: Describe the expected and actual behavior here %0A%0A%23%23 Screenshots %0A%0A TODO: Add screenshots if possible %0A%0A%23%23 Possible Solution %0A%0A%3C!-- If you have suggestions on a fix for the bug, please describe it here. --%3E %0A%0AN/A" title="Report a problem with /doc/book/system-administration/reverse-proxy-configuration-iis.adoc">Report a problem</a>
</p>
<div class="license-box">
<div id="creativecommons">
<a href="https://creativecommons.org/licenses/by-sa/4.0/">
<p>
<img alt="Creative Commons Attribution-ShareAlike license" src="https://licensebuttons.net/l/by-sa/4.0/88x31.png">
</p>
</a>
<p>
The content driving this site is licensed under the Creative
Commons Attribution-ShareAlike 4.0 license.
</p>
</div>
</div>
</div>
<div class="links col-md-8">
<div class="container">
<div class="row">
<div class="area col-md-3">
<div class="div-mar">
<h5>Resources</h5>
<ul class="resources">
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/download">
Downloads
</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/node">
Blog
</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/doc">
Documentation
</a>
</li>
<li>
<a href="https://plugins.jenkins.io/">
Plugins
</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/security">
Security
</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/participate">
Contributing
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Project</h5>
<ul class="project">
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/project">
Structure and governance
</a>
</li>
<li>
<a href="https://issues.jenkins.io">
Issue tracker
</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/project/roadmap">
Roadmap
</a>
</li>
<li>
<a href="https://github.com/jenkinsci">
GitHub
</a>
</li>
<li>
<a href="https://ci.jenkins.io">
Jenkins on Jenkins
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Community</h5>
<ul class="community">
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/events">
Events
</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/mailing-lists">
Mailing lists
</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/chat">
Chats
</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/sigs">
Special Interest Groups
</a>
</li>
<li>
<a href="https://twitter.com/jenkinsci">
Twitter
</a>
</li>
<li>
<a href="https://reddit.com/r/jenkinsci">
Reddit
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Other</h5>
<ul class="other">
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/conduct">
Code of Conduct
</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/press">
Press information
</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/merchandise">
Merchandise
</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/artwork">
Artwork
</a>
</li>
<li>
<a href="https://halkeye.github.io/jenkins.io/add-algolia/awards">
Awards
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  !function(d,s,id) {
    var js, fjs=d.getElementsByTagName(s)[0];
    if (!d.getElementById(id)) {
      js = d.createElement(s);
      js.id=id;
      js.src="//platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js,fjs);
    }
  }(document,"script","twitter-wjs");
  
  $(function(){
    var $body = $(document.body);
    $(".nav-link.dropdown-toggle").on("mousedown", function(){
      $body.addClass("no-outline");
    })
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  apiKey: '9df657b854f8c42d9887b34bc275db4d',
  indexName: 'jenkins',
  inputSelector: 'input.searchbox',
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
